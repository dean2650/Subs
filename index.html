<!DOCTYPE html>
<html>
<head>
    <title>Dean Demo</title>

    <link rel="stylesheet" type="text/css" href="StyleSheetHTML.css" />

    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script type="text/javascript" src="http://www.pureexample.com/js/lib/jquery.ui.touch-punch.min.js"></script>

    <meta name="viewport" content="width=device-width,height=device-height,user-scalable=yes">
</head>
<body style="width: 100%; height: 100%; overflow: hidden; font-family: Tahoma; color: #892E2E; font-size: small">

    <form id="form1">
        <script>
            $(function () {

                var mTop = 0;

                $('.draggable').draggable({

                    zIndex: 9700,

                    revert: 'invalid', opacity: 0.65,

                    stop: function (event, ui) {

                        // Make it properly draggable again
                        $(this).draggable('option', 'revert', 'invalid');
                    }

                });

                $('.droppable').droppable({

                    hoverClass: "drop-hover",

                    drop: function (event, ui) {
                        var $this = $(this);

                        if (event.target.id == "ZoneOn") {

                            // Check number of elements already in
                            if ($this.find('.draggable').length >= 4) {
                                // Cancel drag operation (make it always revert)
                                ui.draggable.draggable('option', 'revert', true);

                                return;
                            }

                        }

                        var aa = ui.draggable.context;
                        if (event.target.id == "ZoneOn")
                            aa.style.backgroundColor = "darkseagreen"
                        if (event.target.id == "ZoneOff")
                            aa.style.backgroundColor = "orangered"
                        if (event.target.id == "ZoneAway")
                            aa.style.backgroundColor = "powderblue"

                        // Put dragged item into container
                        ui.draggable.appendTo($this).css({
                            top: '0px',
                            left: '0px'
                        });

                        //if we are dragging out of zoneON, then (in the each loop) change bg
                        $('.droppable').each(function () {

                            var $this = $(this);

                            if ($this.context.id == "ZoneOn") {
                                if ($this.find('.draggable').length >= 4) {
                                    $this.context.style.backgroundColor = "silver"
                                }
                                else {
                                    $this.context.style.backgroundColor = "white"
                                }
                            }

                        });

　
                    }
                });

            });
        </script>
        <div class="divShadow2" style="border: 0px solid #C2DBEF; background-color: #EAF0F7; padding: 20px; height: 840px; width: 1550px; margin-left: auto; margin-right: auto; text-align: center; box-sizing: border-box">

            <div class="divShadow2" style="float: left; width: 220px; height: 800px; background-color: white;">
            </div>

            <div style="float: left; width: 30px; height: 800px;">
            </div>

            <div style="float: left">
                <div id="ZoneOn" class="droppable" style="border-color: forestgreen;">
                </div>
                <br />

                <div id="ZoneOff" class="droppable" style="border-color: orangered">
                </div>
                <br />

                <div id="ZoneAway" class="droppable" style="border-color: gray">

                    <div id="div3" class="draggable">
                        <div class="Header">
                            <label id="Header1">Aaaaa</label>
                        </div>
                        <div style="float: left">
                            <img id="Image1" src="Assets/a.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn1" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff1" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div4" class="draggable">
                        <div class="Header">
                            <label id="Header2">Bbbbb</label>
                        </div>
                        <div style="float: left">
                            <img id="Image2" src="Assets/b.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn2" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff2" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div5" class="draggable">
                        <div class="Header">
                            <label id="Header3">Ccccc</label>
                        </div>
                        <div style="float: left">
                            <img id="Image3" src="Assets/c.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn3" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff3" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div6" class="draggable">
                        <div class="Header">
                            <label id="Header4">Ddddd</label>
                        </div>
                        <div style="float: left">
                            <img id="Image4" src="Assets/d.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn4" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff4" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div7" class="draggable">
                        <div class="Header">
                            <label id="Header5">Eeeee</label>
                        </div>
                        <div style="float: left">
                            <img id="Image5" src="Assets/e.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn5" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff5" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div8" class="draggable">
                        <div class="Header">
                            <label id="Header6">Fffff</label>
                        </div>
                        <div style="float: left">
                            <img id="Image6" src="Assets/f.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn6" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff6" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div9" class="draggable">
                        <div class="Header">
                            <label id="Header7">Gggggg</label>
                        </div>
                        <div style="float: left">
                            <img id="Image7" src="Assets/g.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn7" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff7" class="OFF">0</label>
                        </div>
                    </div>

                    <div id="div10" class="draggable">
                        <div class="Header">
                            <label id="Header8">Hhhhhh</label>
                        </div>
                        <div style="float: left">
                            <img id="Image8" src="Assets/h.png">
                        </div>
                        <div class="TimerOn">
                            <label id="lblOn8" class="">0</label>
                        </div>
                        <div class="TimerOff">
                            <label id="lblOff8" class="OFF">0</label>
                        </div>
                    </div>

                </div>

            </div>

        </div>

    </form>

　
</body>
</html>
